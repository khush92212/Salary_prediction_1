# -*- coding: utf-8 -*-
"""Salary_prediction_deployment.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1RW5ODlXAx9nnUJWog-3p595nV9xmkYyM
"""
import streamlit as st
import pandas as pd
import joblib
import os

st.title("Debugging App")

st.write("Files in folder:", os.listdir())

try:
    model = joblib.load("salary_model.pkl")
    st.success("Model loaded successfully")
except Exception as e:
    st.error(f"Model loading error: {e}")
    st.stop()

try:
    encoder = joblib.load("encoder.pkl")
    st.success("Encoder loaded successfully")
    st.write("Encoder type:", type(encoder))
except Exception as e:
    st.error(f"Encoder loading error: {e}")
    st.stop()



st.title("Salary Prediction App")

# User Inputs
age = st.number_input("Age", min_value=18, max_value=60)
gender = st.selectbox("Gender", encoder["Gender"].classes_)
education = st.selectbox("Education Level", encoder["Education Level"].classes_)
job_title = st.selectbox("Job Title", encoder["Job Title"].classes_)
years_of_exp = st.number_input("Years of Experience",0,40)

# Create dataframe
df = pd.DataFrame({
    "Age": [age],
    "Gender": [gender],
    "Education Level": [education],
    "Job Title": [job_title],
    "Years of Experience": [years_of_exp]
})

# Predict button
if st.button("Predict"):

    for col in encoder:
        df[col] = encoder[col].transform(df[col])

prediction = model.predict(df)
st.success(f"Predicted Salary: {prediction[0]:,.2f}")
